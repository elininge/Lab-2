from pydobot import Dobot
import time

device = Dobot(port="COM5")

HOME_POSITION = (250, 0, 150, 0)

def run_cycle():
    start_time = time.time()  # start cycle timer

    device.move_to(*HOME_POSITION)
    time.sleep(0.5)

    #Block 1
    device.move_to(320,16,-35,0)
    time.sleep(0.5)
    device.move_to(320,16,-45,0)
    time.sleep(0.5)
    device.suck(True)
    time.sleep(0.5)
    device.move_to(*HOME_POSITION)
    time.sleep(0.5)
    device.move_to(320,-73,-35,0)
    time.sleep(0.5)
    device.move_to(320,-73,-45,0)
    time.sleep(0.5)
    device.suck(False)
    time.sleep(0.5)
    device.move_to(*HOME_POSITION)
    time.sleep(0.5)

    #Block 2
    device.move_to(320,75,-35,0)
    time.sleep(0.5)
    device.move_to(320,75,-45,0)
    time.sleep(0.5)
    device.suck(True)
    time.sleep(0.5)
    device.move_to(*HOME_POSITION)
    time.sleep(0.5)
    device.move_to(320,-15,-35,0)
    time.sleep(0.5)
    device.move_to(320,-15,-45,0)
    time.sleep(0.5)
    device.suck(False)
    time.sleep(0.5)
    device.move_to(*HOME_POSITION)
    time.sleep(0.5)

    #Block 3
    device.move_to(260,75,-35,0)
    time.sleep(0.5)
    device.move_to(260,75,-45,0)
    time.sleep(0.5)
    device.suck(True)
    time.sleep(0.5)
    device.move_to(*HOME_POSITION)
    time.sleep(0.5)
    device.move_to(260,-13,-35,0)
    time.sleep(0.5)
    device.move_to(260,-13,-45,0)
    time.sleep(0.5)
    device.suck(False)
    time.sleep(0.5)
    device.move_to(*HOME_POSITION)
    time.sleep(0.5)

    #Block 4
    time.sleep(0.5)
    device.move_to(260,17,-35,0)
    time.sleep(0.5)
    device.move_to(260,17,-45,0)
    time.sleep(0.5)
    device.suck(True)
    time.sleep(0.5)
    device.move_to(*HOME_POSITION)
    device.move_to(260,-70,150,0)
    time.sleep(0.5)
    device.move_to(260,-70,-35,0)
    time.sleep(0.5)
    device.move_to(260,-70,-45,0)
    time.sleep(0.5)
    device.suck(False)
    time.sleep(0.5)
    device.move_to(*HOME_POSITION)

    #Return Block 1
    device.move_to(320,-73,-35,0)
    time.sleep(0.5)
    device.move_to(320,-73,-45,0)
    time.sleep(0.5)
    device.suck(True)
    time.sleep(0.5)
    device.move_to(*HOME_POSITION)
    time.sleep(0.5)
    device.move_to(320,16,-35,0)
    time.sleep(0.5)
    device.move_to(320,16,-45,0)
    time.sleep(0.5)
    device.suck(False)
    time.sleep(0.5)
    device.move_to(*HOME_POSITION)
    time.sleep(0.5)

    #Return Block 2
    device.move_to(320,-15,-35,0)
    time.sleep(0.5)
    device.move_to(320,-15,-45,0)
    time.sleep(0.5)
    device.suck(True)
    time.sleep(0.5)
    device.move_to(*HOME_POSITION)
    time.sleep(0.5)
    device.move_to(320,75,-35,0)
    time.sleep(0.5)
    device.move_to(320,75,-45,0)
    time.sleep(0.5)
    device.suck(False)
    time.sleep(0.5)
    device.move_to(*HOME_POSITION)
    time.sleep(1)

    #Return Block 3
    device.move_to(260,-13,-35,0)
    time.sleep(0.5)
    device.move_to(260,-13,-45,0)
    time.sleep(0.5)
    device.suck(True)
    time.sleep(0.5)
    device.move_to(*HOME_POSITION)
    time.sleep(0.5)
    device.move_to(260,75,-35,0)
    time.sleep(0.5)
    device.move_to(260,75,-45,0)
    time.sleep(0.5)
    device.suck(False)
    time.sleep(0.5)
    device.move_to(*HOME_POSITION)
    time.sleep(0.5)

    #Return Block 4
    time.sleep(0.5)
    device.move_to(260,-70,-35,0)
    time.sleep(0.5)
    device.move_to(260,-70,-45,0)
    time.sleep(0.5)
    device.suck(True)
    time.sleep(0.5)
    device.move_to(*HOME_POSITION)
    device.move_to(260,17,150,0)
    time.sleep(0.5)
    device.move_to(260,17,-35,0)
    time.sleep(0.5)
    device.move_to(260,17,-45,0)
    time.sleep(0.5)
    device.suck(False)
    time.sleep(0.5)
    device.move_to(*HOME_POSITION)

    # End cycle timer
    end_time = time.time()
    elapsed = end_time - start_time
    print(f"Cycle time: {elapsed:.2f} seconds")

# Run once
run_cycle()

